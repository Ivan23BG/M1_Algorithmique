% ----- Consignes exo 7 ----- %
\begin{td-exo}[Fonction convexe]\ % 7
	\begin{enumerate}
		\item Est-ce qu'une combinaison linéaire à coefficients positifs de fonctions convexes est convexe?

		\item Est-ce que le produit de deux fonctions convexes est convexe?

		\item Si \(f_1\) et \(f_2\) sont deux fonctions convexes, est-ce que \(\max\left(f_1,f_2\right)\) est convexe?

		\item Montrer que la fonction \(f\ \colon\ x\mapsto x^2\) est une fonction convexe sur \(\bb R\).
	\end{enumerate}
\end{td-exo}

% ----- Solutions exo 7 ----- %
\iftoggle{showsolutions}{
	\begin{td-sol}[]\ %
		\begin{enumerate}
			\item Oui. On pose \(g(x) = \sum_{i\in I} \alpha_i f_i(x)\). Alors
			\begin{equation*}
				\begin{aligned}
					g(\lambda x + (1-\lambda) y) 
					& = \sum_{i\in I} \alpha_i f_i(\lambda x + (1-\lambda) y) \\
					& \leq \sum_{i\in I} \alpha_i \left(\lambda f_i(x) + (1-\lambda) f_i(y)\right) \\
					& = \lambda g(x) + (1-\lambda) g(y).
				\end{aligned}
			\end{equation*}

			\item Non. Par exemple, \(f_1(x) = x\) et \(f_2(x) = x^2\) sont convexes mais \(f_1(x) f_2(x) = x^3\) n'est pas convexe.

			\item Oui. On pose \(g(x) = \max\left(f_1(x), f_2(x)\right)\). Alors
			\begin{equation*}
				\begin{aligned}
					g(\lambda x + (1-\lambda) y) 
					& = \max\left(f_1(\lambda x + (1-\lambda) y), f_2(\lambda x + (1-\lambda) y)\right) \\
					& \leq \max\left(\lambda f_1(x) + (1-\lambda) f_1(y), \lambda f_2(x) + (1-\lambda) f_2(y)\right) \\
					& \leq \lambda \max\left(f_1(x), f_2(x)\right) + (1-\lambda) \max\left(f_1(y), f_2(y)\right) \\
					& = \lambda g(x) + (1-\lambda) g(y).
				\end{aligned}
			\end{equation*}

			\item Soit \(x,y \in \bb R\) et \(\lambda \in [0,1]\). Alors
			\begin{equation*}
				\begin{aligned}
					f(\lambda x + (1-\lambda) y) 
					& = {(\lambda x + (1-\lambda) y)}^2 \\
					& = \lambda^2 x^2 + {(1-\lambda)}^2 y^2 + 2\lambda(1-\lambda) xy \\
					& \iff \lambda^2 x^2 + {(1-\lambda)}^2 y^2 + 2\lambda(1-\lambda) xy - \lambda x^2 - (1-\lambda) y^2 \leq 0 \\
					& \iff \lambda (1-\lambda)\left(\frac{\lambda}{1-\lambda} x^2 + \frac{1-\lambda}{\lambda} y^2 + 2xy - \frac{x^2}{1-\lambda} - \frac{y^2}{\lambda}\right) \leq 0 \\
					& \iff \lambda (1-\lambda)\left(-{\left(x - y\right)}^2\right) \leq 0.
				\end{aligned}
			\end{equation*}
			Or tous les termes sont positifs sauf le dernier. Donc l'inégalité est vérifiée.
		\end{enumerate}
	\end{td-sol}
}{}
